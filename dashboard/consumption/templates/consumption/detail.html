{% extends 'consumption/layout.html' %}

{% block content %}
    <h1>User {{ user.pk }} Details</h1>

    <section class="section">
        <h2>Total Consumption</h2>

        <p class="lead">User {{ user.pk }}'s total consumption.</p>

        {% include "consumption/alert.html" with message='An error has occurred while loading user detail data. Please try reloading the page.' %}

        <div class="chart-container">
            {% include "consumption/spinner.html" %}
            <canvas id="detail-sum-chart" width="100%" height="400" data-user-id="{{ user.pk }}"></canvas>
        </div>
    </section>

    <section class="section">
        <h2>Average Consumption</h2>
        <p class="lead">User {{ user.pk }}'s average consumption compared to that of all users. Show or hide each line by clicking the title.</p>

        <div class="chart-container">
            <canvas id="detail-average-chart" width="100%" height="400" data-user-id="{{ user.pk }}"></canvas>
        </div>
    </section>


    <section class="section">
        <h2>User Data</h2>
        <div class="lead">A list of details for user {{ user.pk }}</div>

        <div class="table-responsive detail-table">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Area</th>
                    <th>Tariff</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>{{ user.pk }}</td>
                    <td>{{ user.area }}</td>
                    <td>{{ user.tariff }}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>
{% endblock %}